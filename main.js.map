{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/actors/index.ts","webpack:///./src/game.ts","webpack:///./src/images/spritemap.png","webpack:///./src/images/sword.png","webpack:///./src/resources.ts","webpack:///./src/util.ts","webpack:///./src/actors/brand/logo.ts","webpack:///./src/actors/enemy/enemy.ts","webpack:///./src/actors/player/player.ts","webpack:///./src/scenes/main-menu/main-menu.ts","webpack:///./src/scenes/level-one/level-one.ts","webpack:///./src/index.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","1","exports","module","l","m","c","d","name","getter","o","defineProperty","configurable","enumerable","get","r","value","n","__esModule","default","object","property","p","jsonpArray","window","webpackJsonp","oldJsonpFunction","bind","slice","player_1","Player","enemy_1","Enemy","logo_1","Logo","ex","Game","_super","width","height","this","displayMode","DisplayMode","FullScreen","__extends","start","loader","Engine","t","e","excalibur_tiled_1","sword","spritemap","Resources","Sword","Texture","Spritemap","Map","imagePathAccessor","path","tileset","console","log","clamp","min","max","val","clamped","Math","util_1","x","y","message","_this","strobeClamp","strobe","intensity","ceil","random","opacity","fontFamily","fontSize","color","Color","Label","_a","initialVelocity","setWidth","setHeight","Red","collisionType","CollisionType","Passive","vel","setTo","Actor","game","drawWidth","Fixed","actors_1","simpleButtonFactory","myButton","document","createElement","textContent","Button","onClick","factory","hide","rootElement","style","display","position","body","appendChild","buttonElement","addEventListener","draw","ctx","canvasHeight","_engine","devicePixelRatio","canvasWidth","left","canvas","offsetLeft","top","offsetTop","buttonWidth","clientWidth","buttonHeight","clientHeight","UIActor","MainMenu","onInitialize","engine","logo","add","addTimer","Timer","playMe","goToScene","Scene","LevelOne","onActivate","onDeactivate","level_one_1","main_menu_1","resources_1","mainMenu","levelOne","sheet","SpriteSheet","player","input","pointers","primary","on","evt","pos","worldPos","Util","enemy","addDrawing","getSprite","ev","intersection","normalize","abs","getWidth","getHeight","drawHeight","Loader","key","addResource","then","tilesets","forEach","ts","image","imageTexture","isLoaded","map","getTileMap"],"mappings":"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","file":"main.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t1: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([13,0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import { Player } from './player/player';\nimport { Enemy } from './enemy/enemy';\nimport { Logo } from './brand/logo';\nexport { Player, Enemy, Logo };\n","import * as ex from 'excalibur';\n\nexport class Game extends ex.Engine {\n  constructor(width: number, height: number) {\n    super({ width, height, displayMode: ex.DisplayMode.FullScreen });\n  }\n\n  public start(loader: ex.Loader) {\n    return super.start(loader);\n  }\n}\n","module.exports = __webpack_public_path__ + \"36a2899efb15a764778e9093ec46f2ba.png\";","module.exports = __webpack_public_path__ + \"94754f62e0ae4d23d386e246f5e0cb6e.png\";","import * as ex from 'excalibur';\nimport TiledResource from '@excaliburjs/excalibur-tiled';\n\nconst sword = require('./images/sword.png');\nconst spritemap = require('./images/spritemap.png')\n\nlet Resources = {\n    Sword: new ex.Texture(sword),\n    Spritemap: new ex.Texture(spritemap), // SpriteSheet(spritemap)\n    Map: new TiledResource(\"./map/example.json\")\n}\n\nResources.Map.imagePathAccessor = (path, tileset) => {\n    console.log(\"ACCESS IMAGE PATH\", { path })\n    return \"/assets/\" + path;\n}\n\nexport { Resources }\n","// restrain a value between a min and a max\nconst clamp = (min: number, max: number) => (val: number) => {\n  let clamped = Math.min(val, max);\n  clamped = Math.max(clamped, min);\n  return clamped;\n}\n\nexport { clamp };\n","import * as ex from 'excalibur';\nimport { clamp } from '../../util';\n\nexport class Logo extends ex.Label {\n  intensity: number;\n  constructor(x: number, y: number, message: string) {\n    super(message);\n    //this.setWidth(200);\n    this.x = x; // (game.drawWidth / 2) - 200;\n    this.y = y; // 400;\n\n    this.fontFamily = 'Arial';\n    this.fontSize = 256;\n\n    this.color = new ex.Color(255,255,255);\n    this.intensity = 150;\n    this.strobe();\n  }\n\n  strobeClamp = clamp(50, 200);\n\n  strobe = () => {\n    this.intensity = this.intensity + Math.ceil(Math.random()*16) - 8;\n    this.intensity = this.strobeClamp(this.intensity);\n    // console.log(\"strobe\", { intensity: this.intensity });\n\n    this.opacity = this.intensity / 255;\n  }\n}\n","import * as ex from 'excalibur';\n\nexport class Enemy extends ex.Actor {\n  constructor({initialVelocity}:{initialVelocity: [number,number]}) {\n    super();\n    this.setWidth(15);\n    this.setHeight(15);\n    this.x = 200;\n    this.y = 200;\n    this.color = ex.Color.Red; // new ex.Color(255, 0, 255);\n\n    // we are collision-aware!\n    this.collisionType = ex.CollisionType.Passive;\n\n    this.vel.setTo(initialVelocity[0], initialVelocity[1]); // 100,140);\n  }\n\n  // draw(ctx: CanvasRenderingContext2D) {\n  //   ctx.fillStyle = this.color.toString()\n  //   ctx.beginPath()\n  //   ctx.arc(this.pos.x, this.pos.y, 10, 0, Math.PI * 2)\n  //   ctx.closePath()\n  //   ctx.fill()\n  // }\n}","import * as ex from 'excalibur';\nimport { Game } from '../../game';\n\nexport class Player extends ex.Actor {\n  game: Game;\n\n  constructor(game: Game) {\n    super();\n    this.setWidth(50);\n    this.setHeight(250);\n    this.x = game.drawWidth - 80;\n    this.y = 100;\n    this.color = new ex.Color(255, 255, 255);\n\n    // we are collision-aware!\n    this.collisionType = ex.CollisionType.Fixed;\n\n    // hmmm\n    this.game = game;\n  }\n}\n","import * as ex from 'excalibur';\r\nimport { Logo } from '../../actors';\r\n\r\nconst simpleButtonFactory = (message: string) => {\r\n    let myButton = document.createElement('button');\r\n    myButton.textContent = message; // 'The best button';\r\n    return myButton;\r\n};\r\n\r\nclass Button extends ex.UIActor {\r\n    rootElement: HTMLElement\r\n    buttonElement: HTMLElement\r\n    // onClick: Function\r\n    // _engine: ex.Engine\r\n\r\n    constructor(message, x, y, onClick, factory = simpleButtonFactory) {\r\n        super();\r\n        this.rootElement = document.createElement('div');\r\n        this.rootElement.style.position = 'absolute';\r\n        document.body.appendChild(this.rootElement)\r\n        this.buttonElement = factory(message);\r\n        this.rootElement.appendChild(\r\n            this.buttonElement\r\n        );\r\n        this.buttonElement.addEventListener('click', onClick);\r\n        // this.onClick = onClick;\r\n    }\r\n\r\n    hide = () => this.rootElement.style.display = 'none';\r\n\r\n    draw(ctx: CanvasRenderingContext2D) {\r\n      let canvasHeight = this._engine.canvasHeight / window.devicePixelRatio;\r\n      let canvasWidth = this._engine.canvasWidth / window.devicePixelRatio;\r\n      let left = ctx.canvas.offsetLeft;\r\n      let top = ctx.canvas.offsetTop;\r\n      let buttonWidth = this.buttonElement.clientWidth;\r\n      let buttonHeight = this.buttonElement.clientHeight;\r\n      this.rootElement.style.left = `${left + canvasWidth / 2 - buttonWidth / 2}px`;\r\n      this.rootElement.style.top = `${top + canvasHeight / 2 - buttonHeight / 2 + 100}px`;\r\n    }\r\n}\r\n\r\nexport class MainMenu extends ex.Scene {\r\n    public onInitialize(engine: ex.Engine) {\r\n        const logo = new Logo(\r\n            engine.drawWidth / 2,\r\n            400,\r\n            'Isle'\r\n        );\r\n        this.add(logo);\r\n\r\n        engine.addTimer(\r\n            new ex.Timer(\r\n                logo.strobe,\r\n                20,\r\n                true\r\n            )\r\n        )\r\n                \r\n        const playMe = new Button(\r\n            'start game',\r\n            engine.drawWidth / 2,\r\n            400,\r\n            () => {\r\n                playMe.hide()\r\n                engine.goToScene('wander');\r\n            }\r\n        ); \r\n        // new ex.Label(\r\n        //     'start game',\r\n        //     engine.drawWidth / 2,\r\n        //     400,\r\n        //     'Arial'\r\n        // )\r\n        // engine.input.pointers.primary.on('mousedown', () => {\r\n        //     console.log(\"CLICK\")\r\n        //   engine.goToScene('wander')\r\n        // });\r\n\r\n        this.add(playMe);\r\n    }\r\n}","import * as ex from 'excalibur';\n\nexport class LevelOne extends ex.Scene {\n  public onInitialize(engine: ex.Engine) {\n  }\n  public onActivate() {}\n  public onDeactivate() {}\n}\n","import * as ex from 'excalibur';\nimport { LevelOne } from './scenes/level-one/level-one';\nimport { MainMenu } from './scenes/main-menu/main-menu';\nimport { Player, Enemy, Logo } from './actors';\nimport { Resources } from './resources';\nimport { Game } from './game';\n\nimport { Isle } from './models';\n\n// const island = new Isle();\n\nconst game = new Game(800, 600);\n\nconst mainMenu = new MainMenu();\ngame.add('main-menu', mainMenu);\n\nconst levelOne = new LevelOne();\n\n\n\n// const logo = new Logo(game, 'Isle');\n// levelOne.add(logo);\n\n\nconst sheet = new ex.SpriteSheet(Resources.Spritemap, 8, 8, 32, 32);\n\nconst player = new Player(game);\n\n//player.addDrawing(sheet.getSprite(0));\n\n\n//player.addDrawing(Resources.Sword);\ngame.input.pointers.primary.on('move', (evt: ex.Input.PointerEvent) => {\n  // player.pos.x = evt.worldPos.x;\n\n  const dy = 40;\n  if (player.pos.y > evt.worldPos.y) {\n    player.vel.y -= dy;\n  }\n  if (player.pos.y < evt.worldPos.y) {\n    player.vel.y += dy;\n  }\n\n  player.vel.y = ex.Util.clamp(player.vel.y, -250, 250);\n});\n\nlevelOne.add(player);\n\nconst enemy = new Enemy({initialVelocity: [500,400]});\nenemy.addDrawing(sheet.getSprite(1)); //Resources.Sword);\nenemy.on('precollision', (ev) => {\n  let intersection = ev.intersection.normalize();\n  if (Math.abs(intersection.x) > Math.abs(intersection.y)) {\n    enemy.vel.x *= -1;\n  } else {\n    enemy.vel.y *= -1;\n\n    // give a percentage from player?\n    enemy.vel.y += player.vel.y * 0.2;\n  }\n\n  const boost = 1.00125;\n  enemy.vel.x = enemy.vel.x * boost;\n  enemy.vel.y = enemy.vel.y * boost;\n});\n\nenemy.on('postupdate', () => {\n  //console.log(\"pos\", enemy.pos);\n  if (enemy.pos) {\n    if (enemy.pos.x < enemy.getWidth() / 2) {\n      enemy.vel.x *= -1;\n    }\n\n    if (enemy.pos.x + enemy.getWidth() / 2 > game.drawWidth) {\n      enemy.vel.x *= -1;\n    }\n\n    if (enemy.pos.y < enemy.getHeight() / 2) {\n      enemy.vel.y *= -1;\n    }\n\n    if (enemy.pos.y + enemy.getWidth() / 2 > game.drawHeight) {\n      enemy.vel.y *= -1;\n    }\n  }\n})\n\n// enemy.draw = (ctx) => {\n//   ctx.fillStyle = this.color.toString();\n// }\n\nlevelOne.add(enemy);\n\ngame.add('wander', levelOne);\n\n\n// enemy.vel.setTo(200,10);\n\n\n\n\nlet loader = new ex.Loader();\nfor (let key in Resources) {\n  loader.addResource(Resources[key]);\n}\n\ngame.start(loader).then(() => {\n  game.goToScene('main-menu');\n\n  Resources.Map.data.tilesets.forEach((ts) => {\n    console.log(ts.image, ts.imageTexture.isLoaded());\n  });\n\n  let map = Resources.Map.getTileMap();\n  console.log(\"THE MAP\", { map });\n  levelOne.add(Resources.Map.getTileMap());\n\n  // game.addTimer(\n  //   new ex.Timer(logo.strobe, 20, true)\n  // );\n});\n\n\n"],"sourceRoot":""}