!function(t){function e(e){for(var o,a,c=e[0],s=e[1],u=e[2],p=0,f=[];p<c.length;p++)a=c[p],r[a]&&f.push(r[a][0]),r[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o]);for(l&&l(e);f.length;)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,c=1;c<n.length;c++){var s=n[c];0!==r[s]&&(o=!1)}o&&(i.splice(e--,1),t=a(a.s=n[0]))}return t}var o={},r={1:0},i=[];function a(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=o,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},a.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var c=window.webpackJsonp=window.webpackJsonp||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=s;i.push([13,0]),n()}([,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(10);e.Player=o.Player;var r=n(9);e.Enemy=r.Enemy;var i=n(8);e.Logo=i.Logo},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),a=function(t){function e(e,n){return t.call(this,{width:e,height:n,displayMode:i.DisplayMode.FullScreen})||this}return r(e,t),e.prototype.start=function(e){return t.prototype.start.call(this,e)},e}(i.Engine);e.Game=a},function(t,e,n){t.exports=n.p+"36a2899efb15a764778e9093ec46f2ba.png"},function(t,e,n){t.exports=n.p+"94754f62e0ae4d23d386e246f5e0cb6e.png"},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),r=n(5),i=n(4),a=n(3),c={Sword:new o.Texture(i),Spritemap:new o.Texture(a),Map:new r.default("./map/example.json")};e.Resources=c,c.Map.imagePathAccessor=function(t,e){var n=t.replace(/^(?:\.\.\/)+/,"");return console.log("LOAD IMG",{path:t,actualPath:n}),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.clamp=function(t,e){return function(n){var o=Math.min(n,e);return Math.max(o,t)}}},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),a=n(7),c=function(t){function e(e,n,o){var r=t.call(this,o)||this;return r.strobeClamp=a.clamp(50,200),r.strobe=function(){r.intensity=r.intensity+Math.ceil(16*Math.random())-8,r.intensity=r.strobeClamp(r.intensity),r.opacity=r.intensity/255},r.x=e,r.y=n,r.fontFamily="Arial",r.fontSize=256,r.color=new i.Color(255,255,255),r.intensity=150,r.strobe(),r}return r(e,t),e}(i.Label);e.Logo=c},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),a=function(t){function e(e){var n=e.initialVelocity,o=t.call(this)||this;return o.setWidth(15),o.setHeight(15),o.x=200,o.y=200,o.color=i.Color.Red,o.collisionType=i.CollisionType.Passive,o.vel.setTo(n[0],n[1]),o}return r(e,t),e}(i.Actor);e.Enemy=a},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),a=function(t){function e(e){var n=t.call(this)||this;return n.setWidth(50),n.setHeight(250),n.x=e.drawWidth-80,n.y=100,n.color=new i.Color(255,255,255),n.collisionType=i.CollisionType.Fixed,n.game=e,n}return r(e,t),e}(i.Actor);e.Player=a},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),a=n(1),c=function(t){var e=document.createElement("button");return e.textContent=t,e},s=function(t){function e(e,n,o,r,i){void 0===i&&(i=c);var a=t.call(this)||this;return a.hide=function(){return a.rootElement.style.display="none"},a.rootElement=document.createElement("div"),a.rootElement.style.position="absolute",document.body.appendChild(a.rootElement),a.buttonElement=i(e),a.rootElement.appendChild(a.buttonElement),a.buttonElement.addEventListener("click",r),a}return r(e,t),e.prototype.draw=function(t){var e=this._engine.canvasHeight/window.devicePixelRatio,n=this._engine.canvasWidth/window.devicePixelRatio,o=t.canvas.offsetLeft,r=t.canvas.offsetTop,i=this.buttonElement.clientWidth,a=this.buttonElement.clientHeight;this.rootElement.style.left=o+n/2-i/2+"px",this.rootElement.style.top=r+e/2-a/2+100+"px"},e}(i.UIActor),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onInitialize=function(t){var e=new a.Logo(t.drawWidth/2,400,"Isle");this.add(e),t.addTimer(new i.Timer(e.strobe,20,!0));var n=new s("start game",t.drawWidth/2,400,function(){n.hide(),t.goToScene("wander")});this.add(n)},e}(i.Scene);e.MainMenu=u},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onInitialize=function(t){},e.prototype.onActivate=function(){},e.prototype.onDeactivate=function(){},e}(n(0).Scene);e.LevelOne=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),r=n(12),i=n(11),a=n(1),c=n(6),s=new(n(2).Game)(800,600),u=new i.MainMenu;s.add("main-menu",u);var l=new r.LevelOne,p=new o.SpriteSheet(c.Resources.Spritemap,8,8,32,32),f=new a.Player(s);s.input.pointers.primary.on("move",function(t){f.pos.y>t.worldPos.y&&(f.vel.y-=40),f.pos.y<t.worldPos.y&&(f.vel.y+=40),f.vel.y=o.Util.clamp(f.vel.y,-250,250)}),l.add(f);var y=new a.Enemy({initialVelocity:[500,400]});y.addDrawing(p.getSprite(1)),y.on("precollision",function(t){var e=t.intersection.normalize();Math.abs(e.x)>Math.abs(e.y)?y.vel.x*=-1:(y.vel.y*=-1,y.vel.y+=.2*f.vel.y),y.vel.x=1.00125*y.vel.x,y.vel.y=1.00125*y.vel.y}),y.on("postupdate",function(){y.pos&&(y.pos.x<y.getWidth()/2&&(y.vel.x*=-1),y.pos.x+y.getWidth()/2>s.drawWidth&&(y.vel.x*=-1),y.pos.y<y.getHeight()/2&&(y.vel.y*=-1),y.pos.y+y.getWidth()/2>s.drawHeight&&(y.vel.y*=-1))}),l.add(y),s.add("wander",l);var d=new o.Loader;for(var h in c.Resources)d.addResource(c.Resources[h]);s.start(d).then(function(){s.goToScene("main-menu"),c.Resources.Map.data.tilesets.forEach(function(t){console.log(t.image,t.imageTexture.isLoaded())});var t=c.Resources.Map.getTileMap();console.log("THE MAP",{map:t}),l.add(c.Resources.Map.getTileMap())})}]);
//# sourceMappingURL=main.js.map